[package]
name        = "forest_db"
description = "Database types used in Forest"
version     = "0.2.0"
license     = "MIT OR Apache-2.0"
authors     = ["ChainSafe Systems <info@chainsafe.io>"]
edition     = "2021"
repository  = "https://github.com/ChainSafe/forest"

[features]
default = ["lz4"]

# not included by default to reduce build time
# uncomment when it needs to be used by other crates
# snappy = ["rocksdb/snappy"]
lz4    = ["rocksdb/lz4"]
# zlib   = ["rocksdb/zlib"]
# bzip2  = ["rocksdb/bzip2"]
# zstd = ["rocksdb/zstd"]

[dependencies]
anyhow.workspace              = true
cid.workspace                 = true
forest_encoding.workspace     = true
fvm_ipld_blockstore.workspace = true
lazy_static.workspace         = true
num_cpus.workspace            = true
parking_lot                   = "0.12"
prometheus                    = { workspace = true }
rocksdb                       = { version = "0.19", default-features = false }
serde                         = { workspace = true, features = ["derive"] }
thiserror.workspace           = true

[dev-dependencies]
criterion.workspace  = true
fs_extra.workspace   = true
human-repr.workspace = true
rand.workspace       = true
tempfile.workspace   = true

[[bench]]
harness = false
name    = "rocksdb_sim_bench"
